* In this example, "jupiter" is the name of the Linux machine.

* Log into jupiter using a secure client (e.g. putty from Windows)

* Change to the root user (i.e. sudo su)

* Create a directory in /opt called "datamerger"

* Change the owner of the datamerger directory to tomcat:mysql (i.e. chown tomcat:mysql /opt/datamerger)

* Change the mode of the datamerger directory to allow its group to write (i.e. chmod g+w /opt/datamerger)

* Change the mode of the datamerger directory to persist the group id to sub-files (i.e. chmod g+s /opt/datamerger)



* So the directory should list like this:

<pre>

drwxr-sr-x  2 tomcat mysql     4096 Mar 23 14:36 datamerger

</pre>



* Edit the tomcat-users.xml for the current tomcat (e.g. nano /opt/apache-tomcat-latest/conf/tomcat-users.xml)

* Make sure you have a user with the manager role (tomcat) and set up the users and roles for dataMerger, e.g.

  <pre>

  <!-- dataMerger - Required roles, referred to in web.xml -->

  <role rolename="non-specific"/>

  <role rolename="user"/>

  <role rolename="uploader"/>

  <role rolename="merger"/>

  <role rolename="exporter"/>



  <user username="lee" password="x" roles="manager,user,uploader,merger,exporter,non-specific"/>

  <user username="kirk" password="y" roles="user,uploader,merger,exporter"/>

  <user username="sile" password="z" roles="user,uploader,merger,exporter"/>

</pre>

* Restart tomcat (e.g. /sbin/service/tomcat restart, or /etc/init.d/tomcat restart)

* Open up the tomcat manager for jupiter in a browser (i.e. http://jupiter:8080/manager/html)

* Deploy the latest dataMerger.war using the tomcat manager

* Edit the web.xml for the dataMerger app using a secure client (e.g. nano /opt/apache-tomcat-latest/webapps/dataMerger/WEB-INF/web.xml)

* Change the databaseUsername to "datamerger"

* Change the databasePassword. (This can be re-generated, since it will also be set when create the database further on.)

* Change the uploads and exports file repository paths to "/opt/datamerger/files/uploads/" and "/opt/datamerger/files/exports/" respectively.

* Log into the mysql command line on jupiter as root, (i.e. mysql -p)

* Drop the datamerger database if it exists, (i.e. DROP DATABASE IF EXISTS datamerger;)

* Create the datamerger database (i.e. CREATE DATABASE `datamerger` CHARACTER SET UTF8 COLLATE utf8_bin;)

* Delete the datamerger user, (i.e. DROP USER 'datamerger'@'localhost';)

* Create the datamerger user for the jupiter host (i.e. CREATE USER 'datamerger'@'localhost' IDENTIFIED BY 'xxx';)

* Grant the datamerger user all privileges on the datamerger database (i.e. GRANT ALL PRIVILEGES ON datamerger.* TO 'datamerger'@'localhost';)

* Grant the datamerger user the FILE privilege (i.e. GRANT FILE ON *.* TO 'datamerger'@'localhost';)

* Log into the installation page for dataMerger using a browser (i.e. http://jupiter:8080/dataMerger/pages/admin/)

* Install database v0.0.1

* Log into the datamerger application using FF3 (i.e. http://jupiter:8080/dataMerger/)